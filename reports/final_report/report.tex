
\documentclass[a4paper, 10pt, titlepage]{report}

%% Mandatory stuff
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
%% --


%% Color package for colored links
\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{blues}{RGB}{153,50,204}
%% --


%% Code listings
\usepackage{listings}
% UTF8 compatibility options
% UTF8 chars are OK in code comment
% but not elsewhere
\lstset{extendedchars=false, texcl}
% Eye candy


\lstdefinestyle{python}{
  language=python,
  basicstyle=\footnotesize\rmfamily,
  identifierstyle=,
  commentstyle=\itshape,
  keywordstyle=,
  stringstyle=,
  showspaces=false,
  showstringspaces=false,
  tabsize=3,
  breaklines=true
}

\newcommand{\code}[1]{\lstinline!#1!}

\lstset{style=python}

%% Theorems environments
\usepackage{amsmath}
\usepackage{amsthm}

%% Hyperlinks for references, in color-O-vision and nice for long urls
\PassOptionsToPackage{hyphens}{url}\usepackage[pdftex,%
  pdfauthor={Marie Delavergne},%
  pdftitle={Mémoire de Master 2 ALMA},%
  pdfsubject={Mémoire de Master 2 ALMA - Un intergiciel d’une base de données NewSQL qui considère la localité de l’application cliente},%
  colorlinks,%
  linkcolor=blues,%
  urlcolor=blues,%
  plainpages=false]{hyperref}
%% --

%% Power to the tikz!
\usepackage{tikz}
%\usepackage{graphicx}
%% --

%% Page layout
\usepackage{makeidx}
\makeindex

%% Plain page headings
\pagestyle{headings}

%% Smaller space between heading and matter
\setlength\headsep{0.5in}
 %% --

%% Larger page
\usepackage[left=4cm,right=4cm,top=5cm,bottom=4cm]{geometry}

%% Adjust toc depth
\setcounter{tocdepth}{4}

%% Dotted toc
\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

%% Figures where I want them
\usepackage{float}

%% Nice caption
\usepackage[font={footnotesize}]{caption}

%% Footnote where they belong
\usepackage[bottom]{footmisc}

%% Comments
\newcommand{\comment}[1]{}

%% Image in title
\usepackage{graphicx}

%% Subfigures
\usepackage{subcaption}

%% Bibliography
\usepackage[style=numeric]{biblatex}

\addbibresource{biblio.bib}

\begin{document}
%
%% \maketitle
\begin{titlepage}
	\centering
	{\scshape\LARGE\bfseries Un intergiciel d’une base de données NewSQL qui considère la localité de l’application cliente \par}
	\vspace{0cm}
	{\Large\itshape Marie Delavergne\par}
        {\Large - Mémoire de Master 2 ALMA -\par}

	\vfill

        % Bottom of the page
        {\Large Inria - Discovery Initiative / LS2N - Stack team\par}
        {\Large Ronan-Alexandre Cherrueau - Achour Mostefaoui \par}
	{\Large University of Nantes - 2017-2018 \par}

\begin{figure}[!h]\centering
   \begin{minipage}{0.3\textwidth}
     \centerline{\includegraphics[width=\linewidth]{no_push/logo_un2012quadri_larg40.png}}
     \label{Fig:univnantes}
   \end{minipage}
   \begin {minipage}{0.3\textwidth}
     \centerline{\includegraphics[width=\linewidth]{no_push/inr_logo_eng_rouge.png}}
     \label{Fig:inria}
   \end{minipage}
\end{figure}



\end{titlepage}


\clearpage
\tableofcontents
\newpage

\addcontentsline{toc}{section}{Introduction}
\section*{Introduction}


\addcontentsline{toc}{section}{Étude de l'existant}
\section{Étude de l'existant}

Two databases were considered: one distributed, CockroachDB, and the other replicated, MariaDB Galera Cluster.

\subsection{MariaDB Galera Cluster}

MariaDB, an open-source fork of MySQL, uses Galera Cluster as a synchronous multi-master cluster. It means that all nodes in the cluster are masters, with an active-active synchronous replication, so it is possible to read or write on every node at any time.

\begin{figure}[H]
  \vspace{-10pt}
  \centering
  \centerline{\includegraphics[width=1\textwidth]{no_push/galera.pdf}}
  \vspace{-5pt}
  \caption{MariaDB Galera Cluster}
  \vspace{-5pt}
  \label{fig:MGC}
\end{figure}

To say it in a more understandable way, MariaDB Galera Cluster allows to have the exact same database on every nodes thanks to a synchronous replication.


\begin{figure}[H]
  \vspace{-10pt}
  \centering
  \centerline{\includegraphics[width=1\textwidth]{no_push/certification_based_replication.png}}
  \vspace{-5pt}
  \caption{Certification Based Replication from \url{http://galeracluster.com} }
  \vspace{-5pt}
  \label{fig:MGC}
\end{figure}






\subsection{CockroachDB}

CockroachDB is a NewSQL database that uses the Raft protocol (a alternative version to Lamport's Paxos consensus protocol).

\begin{figure}[H]
  \vspace{-10pt}
  \centering
  \centerline{\includegraphics[width=1\textwidth]{no_push/commit-cockroach.png}}
  \vspace{-5pt}
  \caption{CockroachDB commit: only a quorum of 2 is required to commit }
  \vspace{-5pt}
  \label{fig:MGC}
\end{figure}

\end{document}
